(()=>{var e={176:e=>{e.exports="data:image/svg+xml,%3csvg width='12' height='18' viewBox='0 0 12 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cg clip-path='url(%23clip0_507_2398)'%3e %3cpath opacity='0.66' d='M5.52468 3.47539C5.5249 3.34935 5.57496 3.22852 5.66394 3.13926C5.70801 3.09505 5.76038 3.05998 5.81805 3.03608C5.87572 3.01219 5.93755 2.99992 5.99997 3C6.06241 2.99997 6.12424 3.01228 6.1819 3.03623L6.18552 3.03789C6.24179 3.06174 6.29294 3.09618 6.3362 3.13936C6.38042 3.18344 6.41548 3.23583 6.43938 3.29352C6.46328 3.35121 6.47554 3.41305 6.47546 3.47549C6.47546 3.47842 6.47526 3.48135 6.47487 3.48418V8.52519H11.5157C11.5187 8.52485 11.5216 8.52466 11.5245 8.52461C11.5886 8.52461 11.65 8.5375 11.7063 8.56084C11.7076 8.56133 11.7087 8.56191 11.7099 8.5625C11.7662 8.58634 11.8173 8.62079 11.8606 8.66396C11.9272 8.73027 11.9725 8.81489 11.9909 8.90705C12.0093 8.99921 11.9999 9.09476 11.9638 9.18154C11.9155 9.29814 11.8229 9.3908 11.7063 9.43916V9.43926C11.6487 9.46311 11.5869 9.47539 11.5245 9.47539C11.5216 9.47539 11.5187 9.47519 11.5157 9.4748L6.47487 9.4749V14.5158C6.47526 14.5187 6.47546 14.5217 6.47546 14.5246C6.47546 14.5887 6.46247 14.6502 6.43923 14.7063L6.43747 14.71C6.38878 14.8255 6.29632 14.917 6.18032 14.9646C6.06432 15.0122 5.93421 15.0119 5.81843 14.9638C5.76064 14.94 5.70813 14.905 5.66392 14.8608C5.61971 14.8166 5.58467 14.7641 5.56081 14.7063C5.53687 14.6487 5.52446 14.587 5.52449 14.5246C5.52448 14.5217 5.52468 14.5187 5.52507 14.5158V9.4749H0.484196C0.481283 9.4753 0.478347 9.47549 0.475407 9.47549C0.413098 9.47548 0.351403 9.46317 0.293866 9.43926C0.236078 9.41545 0.183568 9.38045 0.139356 9.33627C0.0951446 9.29209 0.0601042 9.23961 0.0362507 9.18184C0.0123194 9.12425 0 9.06251 0 9.00015C0 8.93779 0.0123194 8.87604 0.0362507 8.81846C0.0605669 8.75986 0.0958206 8.70742 0.139375 8.66387C0.183467 8.61966 0.23586 8.58459 0.293544 8.5607C0.351228 8.5368 0.413066 8.52453 0.475505 8.52461C0.478532 8.52461 0.481462 8.5248 0.484294 8.52519H5.52527V3.48418C5.52488 3.48127 5.52468 3.47833 5.52468 3.47539Z' fill='%23333333'/%3e %3c/g%3e %3cdefs%3e %3cclipPath id='clip0_507_2398'%3e %3crect width='12' height='12' fill='white' transform='translate(0 3)'/%3e %3c/clipPath%3e %3c/defs%3e %3c/svg%3e"},417:e=>{e.exports="data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3crect x='0.777778' y='0.777778' width='14.4444' height='14.4444' rx='7.22222' fill='white'/%3e %3crect x='0.777778' y='0.777778' width='14.4444' height='14.4444' rx='7.22222' stroke='%23414141' stroke-width='1.55556'/%3e %3cg clip-path='url(%23clip0_556_2404)'%3e %3cpath fill-rule='evenodd' clip-rule='evenodd' d='M11.4795 6.32987L7.19782 10.7836L4.52051 8.00002L5.59093 6.88659L7.19719 8.55674L10.4091 5.21643L11.4795 6.32987Z' fill='%23414141'/%3e %3c/g%3e %3cdefs%3e %3cclipPath id='clip0_556_2404'%3e %3crect width='7.77778' height='7.77778' fill='white' transform='translate(4.11108 4.11108)'/%3e %3c/clipPath%3e %3c/defs%3e %3c/svg%3e"},381:e=>{e.exports="data:image/svg+xml,%3csvg width='13' height='12' viewBox='0 0 13 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cg clip-path='url(%23clip0_505_2395)'%3e %3cpath d='M2.24266 2.42961C2.15369 2.34034 2.10365 2.2195 2.10345 2.09346C2.10335 2.03104 2.11559 1.96921 2.13947 1.91153C2.16335 1.85385 2.19839 1.80147 2.24259 1.75738C2.28672 1.71321 2.33914 1.67819 2.39685 1.65435L2.40058 1.65297C2.45723 1.63004 2.51776 1.61823 2.57888 1.61817C2.64132 1.61808 2.70316 1.63033 2.76085 1.65422C2.81854 1.67811 2.87094 1.71317 2.91503 1.75738C2.9171 1.75945 2.91903 1.76166 2.92076 1.76394L6.4853 5.32848L10.0497 1.76404C10.0516 1.76174 10.0535 1.75952 10.0555 1.75741C10.1008 1.71211 10.1534 1.67779 10.2097 1.65452C10.211 1.6539 10.2121 1.65356 10.2134 1.65314C10.27 1.63021 10.3306 1.6184 10.3917 1.61834C10.4857 1.61814 10.5776 1.64589 10.6557 1.69806C10.7339 1.75023 10.7948 1.82447 10.8307 1.91133C10.8789 2.02795 10.879 2.15896 10.8307 2.27559L10.8308 2.27566C10.8069 2.33327 10.7719 2.38562 10.7278 2.42971C10.7258 2.43179 10.7235 2.43373 10.7212 2.43552L7.15684 6.00002L10.7213 9.56449C10.7236 9.56627 10.7259 9.56821 10.7279 9.57029C10.7732 9.61559 10.8076 9.66828 10.8308 9.72442L10.8321 9.72821C10.8794 9.84434 10.8788 9.97445 10.8304 10.0901C10.782 10.2058 10.6898 10.2976 10.5739 10.3454C10.5162 10.3694 10.4543 10.3818 10.3918 10.3818C10.3293 10.3819 10.2674 10.3695 10.2097 10.3455C10.152 10.3217 10.0996 10.2869 10.0555 10.2427C10.0534 10.2406 10.0515 10.2384 10.0497 10.2361L6.48523 6.67163L2.92079 10.2361C2.91902 10.2384 2.91708 10.2406 2.91499 10.2427C2.87093 10.2868 2.8186 10.3217 2.76101 10.3454C2.70331 10.3695 2.64143 10.3819 2.57893 10.3819C2.51643 10.3819 2.45454 10.3696 2.39682 10.3456C2.33918 10.3218 2.28681 10.2868 2.24271 10.2427C2.19862 10.1986 2.16367 10.1463 2.13987 10.0886C2.11563 10.03 2.10348 9.968 2.10348 9.90641C2.1034 9.84397 2.11565 9.78213 2.13954 9.72444C2.16343 9.66675 2.19849 9.61435 2.24269 9.57026C2.24483 9.56811 2.24704 9.56618 2.24932 9.56446L5.81383 5.99995L2.24929 2.43541C2.24696 2.43363 2.24474 2.43169 2.24266 2.42961Z' fill='black'/%3e %3c/g%3e %3cdefs%3e %3cclipPath id='clip0_505_2395'%3e %3crect width='12' height='12' fill='white' transform='translate(0.485291)'/%3e %3c/clipPath%3e %3c/defs%3e %3c/svg%3e"},204:e=>{e.exports="data:image/svg+xml,%3csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M10 2.5C5.85833 2.5 2.5 5.85833 2.5 10C2.5 14.1417 5.85833 17.5 10 17.5C10.6917 17.5 11.25 16.9417 11.25 16.25C11.25 15.925 11.125 15.6333 10.925 15.4083C10.7333 15.1917 10.6083 14.9 10.6083 14.5833C10.6083 13.8917 11.1667 13.3333 11.8583 13.3333H13.3333C15.6333 13.3333 17.5 11.4667 17.5 9.16667C17.5 5.48333 14.1417 2.5 10 2.5ZM5.41667 10C4.725 10 4.16667 9.44167 4.16667 8.75C4.16667 8.05833 4.725 7.5 5.41667 7.5C6.10833 7.5 6.66667 8.05833 6.66667 8.75C6.66667 9.44167 6.10833 10 5.41667 10ZM7.91667 6.66667C7.225 6.66667 6.66667 6.10833 6.66667 5.41667C6.66667 4.725 7.225 4.16667 7.91667 4.16667C8.60833 4.16667 9.16667 4.725 9.16667 5.41667C9.16667 6.10833 8.60833 6.66667 7.91667 6.66667ZM12.0833 6.66667C11.3917 6.66667 10.8333 6.10833 10.8333 5.41667C10.8333 4.725 11.3917 4.16667 12.0833 4.16667C12.775 4.16667 13.3333 4.725 13.3333 5.41667C13.3333 6.10833 12.775 6.66667 12.0833 6.66667ZM14.5833 10C13.8917 10 13.3333 9.44167 13.3333 8.75C13.3333 8.05833 13.8917 7.5 14.5833 7.5C15.275 7.5 15.8333 8.05833 15.8333 8.75C15.8333 9.44167 15.275 10 14.5833 10Z' fill='%23323232'/%3e %3c/svg%3e"},539:e=>{e.exports="data:image/svg+xml,%3csvg width='26' height='25' viewBox='0 0 26 25' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cg clip-path='url(%23clip0_500_2273)'%3e %3cpath d='M12.0227 0.97747C12.0232 0.71832 12.1261 0.469865 12.3091 0.286334C12.3997 0.195429 12.5074 0.123334 12.6259 0.0741942C12.7445 0.0250546 12.8716 -0.000159857 13 7.62562e-07C13.1284 -6.82252e-05 13.2555 0.0252489 13.3741 0.0744956L13.3815 0.0779091C13.4972 0.126937 13.6024 0.197767 13.6913 0.286535C13.7822 0.377181 13.8543 0.484907 13.9035 0.603518C13.9526 0.722129 13.9778 0.849284 13.9776 0.977671C13.9776 0.983694 13.9772 0.989718 13.9764 0.995541V11.3606H24.3412C24.3472 11.3599 24.3532 11.3595 24.3593 11.3594C24.491 11.3594 24.6173 11.3859 24.7329 11.4339C24.7357 11.4349 24.738 11.4361 24.7404 11.4373C24.8561 11.4863 24.9612 11.5571 25.0502 11.6459C25.1871 11.7822 25.2804 11.9562 25.3182 12.1457C25.356 12.3352 25.3366 12.5317 25.2624 12.7101C25.1631 12.9499 24.9726 13.1404 24.7329 13.2398V13.24C24.6145 13.2891 24.4875 13.3143 24.3593 13.3143C24.3532 13.3143 24.3472 13.3139 24.3412 13.3131L13.9764 13.3133V23.6781C13.9772 23.6841 13.9776 23.6902 13.9776 23.6962C13.9776 23.8279 13.9509 23.9544 13.9032 24.0699L13.8995 24.0773C13.7994 24.3149 13.6093 24.5031 13.3708 24.6009C13.1323 24.6987 12.8648 24.6981 12.6267 24.5992C12.5079 24.5502 12.3999 24.4782 12.309 24.3874C12.2181 24.2966 12.1461 24.1887 12.097 24.0699C12.0478 23.9514 12.0223 23.8244 12.0223 23.6962C12.0223 23.6902 12.0227 23.6841 12.0235 23.6781V13.3133H1.65878C1.65279 13.3141 1.64676 13.3145 1.64071 13.3145C1.51259 13.3145 1.38574 13.2892 1.26744 13.24C1.14862 13.1911 1.04065 13.1191 0.949744 13.0282C0.858838 12.9374 0.786791 12.8295 0.737745 12.7107C0.688538 12.5923 0.663208 12.4654 0.663208 12.3371C0.663208 12.2089 0.688538 12.082 0.737745 11.9636C0.787742 11.8431 0.860228 11.7353 0.949782 11.6457C1.04044 11.5548 1.14817 11.4827 1.26678 11.4336C1.38538 11.3844 1.51253 11.3592 1.64091 11.3594C1.64714 11.3594 1.65316 11.3598 1.65898 11.3606H12.0239V0.995541C12.0231 0.989551 12.0227 0.983514 12.0227 0.97747Z' fill='%23F5F5F5'/%3e %3c/g%3e %3cdefs%3e %3cclipPath id='clip0_500_2273'%3e %3crect width='24.6737' height='24.6737' fill='white' transform='translate(0.663208)'/%3e %3c/clipPath%3e %3c/defs%3e %3c/svg%3e"},675:e=>{e.exports="data:image/svg+xml,%3csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M15.9253 5.55605C16.1141 5.55625 16.2956 5.62854 16.4329 5.75813C16.5702 5.88773 16.6528 6.06484 16.6638 6.2533C16.6749 6.44175 16.6136 6.62732 16.4924 6.77208C16.3713 6.91685 16.1994 7.00988 16.0119 7.03218L15.9253 7.03736H15.8653L15.1846 15.1846C15.1847 15.7514 14.9681 16.2967 14.5793 16.7091C14.1905 17.1214 13.6588 17.3696 13.093 17.4029L12.9626 17.4066H7.03737C5.8538 17.4066 4.8865 16.4815 4.82132 15.3698L4.81762 15.2461L4.13399 7.03736H4.07474C3.88596 7.03715 3.70438 6.96487 3.56711 6.83528C3.42984 6.70568 3.34724 6.52857 3.33617 6.34011C3.32511 6.15166 3.38643 5.96609 3.50759 5.82133C3.62875 5.67656 3.80062 5.58353 3.98808 5.56123L4.07474 5.55605H15.9253ZM11.4813 2.59341C11.8742 2.59341 12.251 2.74948 12.5288 3.02728C12.8066 3.30508 12.9626 3.68186 12.9626 4.07473C12.9624 4.26351 12.8901 4.44508 12.7606 4.58235C12.631 4.71962 12.4538 4.80223 12.2654 4.81329C12.0769 4.82436 11.8914 4.76304 11.7466 4.64188C11.6018 4.52071 11.5088 4.34884 11.4865 4.16139L11.4813 4.07473H8.51869L8.51351 4.16139C8.49121 4.34884 8.39817 4.52071 8.25341 4.64188C8.10865 4.76304 7.92308 4.82436 7.73463 4.81329C7.54617 4.80223 7.36905 4.71962 7.23946 4.58235C7.10987 4.44508 7.03758 4.26351 7.03737 4.07473C7.03726 3.70101 7.1784 3.34106 7.43251 3.06703C7.68663 2.793 8.03493 2.62514 8.40759 2.59711L8.51869 2.59341H11.4813Z' fill='%23323232'/%3e %3c/svg%3e"}},t={};function n(c){var a=t[c];if(void 0!==a)return a.exports;var i=t[c]={exports:{}};return e[c](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var c in t)n.o(t,c)&&!n.o(e,c)&&Object.defineProperty(e,c,{enumerable:!0,get:t[c]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e="cards",t=()=>(e=>{const t=localStorage.getItem(e);return t?JSON.parse(t):null})(e)||[],c=t=>{((e,t)=>{const n=JSON.stringify(t);localStorage.setItem(e,n)})(e,t)},a=(e,n)=>{let a=t();const i=a.findIndex((t=>t.id===e));return-1!==i&&(a[i].title=n,c(a),!0)},i=e=>{let n=t();const c=n.findIndex((t=>t.id===e));return-1!==c&&n[c].color},l=(e,n)=>{const a=t(),i=a.find((t=>t.id===e));if(i){const e={id:Date.now(),title:n,completed:!1};i.tasks.push(e),c(a)}},s=(e,n,a)=>{const i=t(),l=i.findIndex((t=>t.id===e));if(-1!==l){const e=i[l].tasks.findIndex((e=>e.id===n));if(-1!==e)return i[l].tasks[e].title=a,c(i),!0}return!1},o=(e,n)=>{const a=t(),i=a.find((t=>t.id===e));i&&(i.tasks=i.tasks.filter((e=>e.id!==n)),c(a))},d=(e,n)=>{const a=t(),i=a.find((t=>t.id===e));if(i){const e=i.tasks.find((e=>e.id===n));e&&(e.completed=!e.completed,c(a))}},r=e=>{const n=document.querySelector(`[data-card-id="${e}"]`),c=(e=>{let n=t();const c=n.findIndex((t=>t.id===e));return-1!==c&&n[c]})(e);if(c){const e=H(c);return n?n.replaceWith(e):document.querySelector('[data-page="main"]').appendChild(e),e}n&&n.remove()},C=e=>{let n=t();n=n.filter((t=>t.id!==e)),c(n)},p=(e,n)=>{const a=t(),i=a.findIndex((t=>t.id===e));return-1!==i&&(a[i].color=n,c(a),!0)};var u=n(539),h=n.n(u),m=n(204),g=n.n(m),v=n(675),f=n.n(v),w=n(381),x=n.n(w);function L(e="",t=(()=>{}),n="default",c=null){const a=document.createElement("div");if(a.className="button","cta"===n&&a.classList.add("button-cta"),"action"===n&&a.classList.add("button-action"),c){const e=document.createElement("img");"plus"===c&&(e.src=h()),"palette"===c&&(e.src=g()),"trash"===c&&(e.src=f()),"cross"===c&&(e.src=x()),a.appendChild(e)}return e&&a.appendChild(document.createTextNode(e)),a.addEventListener("click",t),a}var y=n(176),b=n.n(y),k=n(417),E=n.n(k);class _{constructor(){if(_.instance)return _.instance;this._overlay={open:!1,onCLose:()=>{}},this._editableCardId=null,_.instance=this}get overlay(){return this._overlay}set overlay(e){this._overlay=e}get editableCardId(){return this._editableCardId}set editableCardId(e){this._editableCardId=e}}const N=()=>new _;function H({id:e,title:t,color:n,tasks:c}){const u=N(),h=document.createElement("h2");h.className="card-title",h.textContent=t,h.setAttribute("contenteditable","true"),h.setAttribute("data-placeholder","Type list title"),h.addEventListener("blur",(function(){a(e,this.textContent)}));const m=document.createElement("ul");m.className="card-tasks",c.forEach((t=>{m.appendChild(function(e,{id:t,title:n,completed:c}){const a=document.createElement("div");a.className="task-container";const i=document.createElement("input");i.type="checkbox",i.checked=c,i.className="task-checkbox",i.addEventListener("change",(()=>{d(e,t),r(e)}));const l=document.createElement("div");l.textContent=n,l.setAttribute("contenteditable","true"),l.setAttribute("data-placeholder","List item"),l.className="task-title",l.addEventListener("blur",(function(n){console.log("Новое значение:",this.textContent),s(e,t,this.textContent)})),a.append(i,l);const C=L("",(()=>{o(e,t),r(e)}),"action","cross"),p=document.createElement("li");return p.className="task "+(c?"task-completed":""),p.setAttribute("data-task-id",t),p.appendChild(a),p.appendChild(C),p}(e,t))}));const g=function(t){const n=document.createElement("div");n.className="task-input",n.setAttribute("contenteditable","true"),n.setAttribute("role","textbox"),n.setAttribute("data-placeholder","Add a new task"),n.addEventListener("blur",(function(t){const n=this.textContent.trim();""!==n&&(l(e,n),r(e),this.innerHTML="")}));const c=document.createElement("div");c.className="input-container";const a=document.createElement("img");return a.src=b(),c.append(a,n),c}(),v=L("",(()=>{u.overlay.open&&(u.overlay.onCLose(),console.log("Overlay closed")),C(e),r(e)}),"action","trash"),f=function(t,n){const c=document.createElement("div");return c.style.display="none",c.className="color-picker",[{value:"#D1E5F8",displayed:"#039BF1"},{value:"#D1F8DE",displayed:"#359C77"},{value:"#F8F6D1",displayed:"#FFB906"},{value:"#F8DAD1",displayed:"#EB5757"}].forEach((t=>{const a=document.createElement("div");a.className="color-picker-item",a.style.backgroundColor=t.displayed;const i=document.createElement("img");i.src=E(),i.className="checkmark",i.style.display="none",a.appendChild(i),a.addEventListener("click",(n=>{!function(t){p(e,t);r(e).querySelector(".color-picker").style.display="flex"}(t.value)})),t.value===n?i.style.display="block":i.style.display="none",c.appendChild(a)})),c}(0,i(e)),w=L("",(()=>{"none"===f.style.display?f.style.display="flex":f.style.display="none"}),"action","palette"),x=document.createElement("ul");x.className="action-container",x.append(w,v);const y=document.createElement("div");return y.className="card",y.style.backgroundColor=n,y.setAttribute("data-card-id",e),y.appendChild(h),c.length>0&&y.appendChild(m),y.append(g,x,f),y}document.addEventListener("DOMContentLoaded",(async()=>{const e=document.querySelector("#root"),n=function(e){const n=document.createElement("div");n.classList.add("page"),n.setAttribute("data-page","main"),e.forEach((e=>{n.appendChild(e)}));const a=L("",(()=>{const e=(e=>{const n=t(),a={id:Date.now(),title:void 0,color:null,tasks:[]};return n.push(a),c(n),a})();!function(e,t){const n=N();n.overlay={open:!0,onCLose:i};const c=document.createElement("div");c.className="overlay";const a=document.createElement("div");function i(){document.body.removeChild(c)}a.className="content-container",a.appendChild(e),c.appendChild(a),c.addEventListener("click",(function(e){e.stopPropagation(),e.target===c&&(n.overlay={open:!1,onCLose:null},i(),t&&(t(),console.log("onClose executed")))})),document.body.appendChild(c)}(H({title:"",id:e.id,tasks:[]}),(()=>r(e.id))),console.log("Кнопка была нажата!")}),"cta","plus");return n.appendChild(a),n}(t().map((e=>H(e))));e.innerHTML="",e.appendChild(n)}))})()})();